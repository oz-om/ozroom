import{a as t,j as e,L as b,r as N,u as y,d as w,e as k,g}from"./index-d82c478d.js";const C=({id:l,roomName:c,roomAvatar:m,topic:u,desc:s,isPrivate:n,max:d})=>t("div",{id:"room",className:"px-5 py-2 rounded-lg grid content-between flex-grow max-w-xs ",children:[t("div",{id:"my-room-cover",className:"my-1 relative pt-4 group",children:[e("div",{className:"w-28 h-28 overflow-hidden ms-auto me-auto",children:e("img",{src:m,alt:"room cover",className:"rounded-full object-cover h-full"})}),e("div",{className:"room-name",children:e("h4",{className:"line-clamp-2 py-2",children:c})}),t("div",{className:"desc absolute w-full h-full top-0 text-xs font-light rounded-md p-2 bg-violet-600/80 invisible group-hover:visible",children:[t("p",{children:["topic: ",u]}),t("p",{children:["description: ",s]})]})]}),t("div",{id:"room-details",children:[t("div",{className:"flex justify-between items-center",children:[e("p",{className:"font-normal text-md relative w-16 greenPill "+(n?"after:bg-red-500":"after:bg-green-500"),children:n?"private":"public"}),t("div",{id:"max",className:"flex items-center",children:[e("span",{className:"text-xs text-gray-100/50 font-light mr-1",children:"max"}),e("p",{className:"text-xl text-orange-400",children:d})]})]}),t("div",{id:"controls",children:[t("div",{className:"flex flex-wrap gap-x-4",children:[t(b,{to:`/live?room=${l}`,id:"revive",className:"flex grow items-center justify-center gap-x-1 bg-green-600 pl-1 pr-4 py-1 rounded-md cursor-pointer hover:bg-green-500",children:[e("i",{className:"bx bxs-leaf"}),e("span",{children:"revive"})]}),t(b,{to:`edit?room=${l}`,id:"edit",className:"flex grow items-center justify-center gap-x-1 bg-sky-500 pl-1 pr-4 py-1 rounded-md cursor-pointer hover:bg-sky-700",children:[e("i",{className:"bx bx-cog"}),e("span",{children:"edit"})]})]}),t("div",{id:"delete",className:"flex justify-center items-center gap-x-1 py-2 mt-2 rounded-md bg-red-500 cursor-pointer hover:bg-red-400",children:[e("i",{className:"bx bx-trash"}),e("span",{children:"delete"})]})]})]})]}),S=()=>{const[l,c]=N.useState({id:new Date().getTime(),name:"",cover:"https://avatars.dicebear.com/api/bottts/ele.svg?background=%23425ACC",max:2,isPrivate:!1,key:null,topic:"",desc:""}),{addNewRoom:m}=y();function u(r){let o=document.querySelector("#cover img"),i=new FileReader;i.readAsDataURL(r.target.files[0]),i.onload=()=>{o.src=i.result}}function s(r){c(o=>({...o,[r.target.name]:r.target.value}))}function n(r){let o=r.target.previousSibling,i=r.target.parentElement.parentElement.children;for(let a=0;a<i.length;a++)i[a].querySelector("input")!=o?(i[a].querySelector("input").classList.remove("peer"),i[a].querySelector("input").removeAttribute("checked")):(i[a].querySelector("input").classList.add("peer"),i[a].querySelector("input").setAttribute("checked","checked"))}function d(r){let o={two:2,three:3,four:4,five:5,six:6},i=r.target.previousSibling;n(r),c(a=>({...a,max:o[i.id]}))}function p(r){let o={private:!0,public:!1},i=r.target.previousSibling;if(c(a=>({...a,isPrivate:o[i.id]})),n(r),o[i.id]){let a=k();c(h=>({...h,key:a}))}}function v(r){r.target.style.height="auto",r.target.style.height=r.target.scrollHeight+"px"}function f(){c(r=>({...r,id:new Date().getTime()})),l.name.trim().length&&l.topic.trim().length&&l.desc.trim().length&&(m(l),x())}function x(){c({id:new Date().getTime(),name:"",cover:"https://avatars.dicebear.com/api/bottts/ele.svg?background=%23425ACC",max:2,isPrivate:!1,key:null,topic:"",desc:""});let r=document.querySelectorAll("#room-state input"),o=document.querySelectorAll("#maxChoices input");function i(a){a.forEach(h=>{h.classList.remove("peer"),h.removeAttribute("checked")}),a[0].setAttribute("checked","checked"),a[0].classList.add("peer")}i(o),i(r),g()}return t("div",{id:"create-container",className:"hidden absolute w-full h-full top-0 left-0 backdrop-blur-md justify-center overflow-y-auto pl-2 overflow-hidden bg-black/25",children:[e("div",{id:"close",onClick:x,className:"absolute top-2 right-2 z-[1]",children:e("i",{className:"bx bx-x-circle text-2xl text-teal-400 cursor-pointer"})}),t("div",{id:"create",className:"backdrop-blur-md bg-indigo-800/50 px-3 mt-2 rounded-md shadow shadow-sky-50/50 h-full max-w-sm min-w-[343.41px]",children:[t("div",{id:"cover",className:"relative",children:[e("img",{src:l.cover,alt:"cover",className:"w-28 h-28 rounded-full mx-auto border object-cover"}),e("label",{htmlFor:"upPhoto",className:"w-28 h-28 cursor-pointer rounded-full mx-auto border flex justify-center items-center absolute left-1/2 -translate-x-1/2 top-1/2 -translate-y-1/2",children:e("i",{className:"bx bxs-camera-plus text-2xl"})}),e("input",{type:"file",id:"upPhoto",className:"hidden",onChange:u})]}),t("div",{id:"insertName",className:"",children:[e("h4",{children:"Group Name:"}),e("input",{type:"text",id:"gbName",name:"name",value:l.name,placeholder:"group name",onInput:s,className:"input"})]}),t("div",{id:"insertMax",className:"",children:[e("h4",{children:"max members:"}),t("div",{id:"maxChoices",className:"grid grid-cols-3 gap-4",children:[t("div",{children:[e("input",{type:"radio",name:"two",id:"two",className:"hidden peer",defaultChecked:!0}),e("label",{htmlFor:"two",className:"checkbox",onClick:d,children:"two"})]}),t("div",{children:[e("input",{type:"radio",name:"three",id:"three",className:"hidden"}),e("label",{htmlFor:"three",className:"checkbox",onClick:d,children:"three"})]}),t("div",{children:[e("input",{type:"radio",name:"four",id:"four",className:"hidden"}),e("label",{htmlFor:"four",className:"checkbox",onClick:d,children:"four"})]})]})]}),t("div",{id:"insertState",children:[e("h4",{children:"status:"}),t("div",{id:"room-state",className:"flex gap-x-2",children:[t("div",{className:"basis-1/2",children:[e("input",{type:"radio",id:"public",className:"peer hidden",defaultChecked:!0}),e("label",{htmlFor:"public",className:"checkbox",onClick:p,children:"public"})]}),t("div",{className:"basis-1/2",children:[e("input",{type:"radio",id:"private",className:"peer hidden"}),e("label",{htmlFor:"private",className:"checkbox",onClick:p,children:"private"})]})]})]}),l.isPrivate&&t("div",{id:"Key",className:"flex items-center gap-x-3",children:[e("h4",{className:"whitespace-nowrap",children:"private Key:"}),e("input",{type:"text",id:"privatekey",readOnly:!0,value:l.key,className:"w-36 bg-transparent px-3 py-1 rounded-md bg-indigo-700"}),e("button",{onClick:w,className:"bg-violet-500 block p-1 text-sm font-light w-16 rounded-xl cursor-pointer",children:"copy"})]}),t("div",{id:"topic",children:[e("h4",{children:"topic:"}),e("input",{type:"text",name:"topic",value:l.topic,placeholder:"topic",onInput:s,className:"input"})]}),t("div",{id:"desc",className:"",children:[e("h4",{children:"description:"}),e("textarea",{name:"desc",value:l.desc,placeholder:"insert description",onInput:r=>{v(r),s(r)},className:"resize-none input no-scrollbar w-10/12"})]}),e("button",{className:"w-36 bg-pink-500/75 py-2 px-4 mx-auto my-4 rounded-md block",onClick:f,children:"create room"})]})]})};function A({myRooms:l}){return t("div",{id:"rooms",children:[e("div",{className:"myRooms-container flex justify-center flex-wrap gap-2 max-h-[calc(100vh_-_160px)] overflow-hidden overflow-y-auto",children:l.map(c=>{const{id:m,cover:u,name:s,topic:n,desc:d,isPrivate:p,max:v}=c;return e(C,{id:m,roomAvatar:u,roomName:s,topic:n,desc:d,isPrivate:p,max:v},m)})}),e("div",{id:"add-room",onClick:g,className:"flex justify-end absolute bottom-4 right-0",children:e("i",{className:'bx bxs-message-square-add bg-violet-500 text-yellow-300 rounded-full p-2 text-5xl cursor-pointer relative w-14 h-14 before:content-["\\ee3c"] before:absolute before:left-2/4 before:top-2/4 before:-translate-y-2/4 before:-translate-x-2/4'})}),e(S,{})]})}export{A as default};
